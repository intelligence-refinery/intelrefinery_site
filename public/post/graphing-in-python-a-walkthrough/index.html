<!DOCTYPE html>
<html lang="en-us"><link rel="stylesheet"
      href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.16.2/build/styles/default.min.css">

<head>
  <meta charset="utf-8">
  
  <title>Intelligence Refinery</title>

  <!-- mobile responsive meta -->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="This is meta description">
  
  <meta name="author" content="Intelligence Refinery">
  <meta name="generator" content="Hugo 0.57.2" />

  <!-- plugins -->
  
  <link rel="stylesheet" href="../../plugins/bootstrap/bootstrap.min.css ">
  
  <link rel="stylesheet" href="../../plugins/slick/slick.css ">
  
  <link rel="stylesheet" href="../../plugins/themify-icons/themify-icons.css ">
  
  <link rel="stylesheet" href="../../plugins/venobox/venobox.css ">
  

  <!-- Main Stylesheet -->
  
  <link rel="stylesheet" href="../../scss/style.min.css" integrity="" media="screen">

  <!--Favicon-->
  <link rel="shortcut icon" href="../../images/favicon.png " type="image/x-icon">
  <link rel="icon" href="../../images/favicon.png " type="image/x-icon">

</head><body>
<!-- preloader start -->
<div class="preloader">
  
</div>
<!-- preloader end -->
<!-- navigation -->
<header class="navigation">
  <div class="container">
    
    <nav class="navbar navbar-expand-lg navbar-white bg-transparent border-bottom">
      <button class="navbar-toggler border-0" type="button" data-toggle="collapse" data-target="#navigation">
        <i class="ti-menu h3"></i>
      </button>

      <div class="collapse navbar-collapse text-center" id="navigation">
        <div class="desktop-view">

          <ul class="navbar-nav mr-auto">
            
            <li class="nav-item">
              <a class="nav-link" href="https://twitter.com/IntelRefinery"><i class="ti-twitter-alt"></i></a>
            </li>
            
            <li class="nav-item">
              <a class="nav-link" href="https://intelrefinery.tumblr.com/"><i class="ti-tumblr"></i></a>
            </li>
            
            <li class="nav-item">
              <a class="nav-link" href="https://www.pinterest.ca/intelligencerefinery/boards/"><i class="ti-pinterest"></i></a>
            </li>
            
          </ul>

        </div>

        <ul class="navbar-nav ml-auto">
          <li class="nav-item">
            <a class="nav-link" href="../../"> Home </a>
          </li>
          
          
          <li class="nav-item">
            <a class="nav-link" href="../../about/about">About</a>
          </li>
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="../../contact">Contact Us</a>
          </li>
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="../../"></a>
          </li>
          
          
        </ul>

        
        <!-- search -->
        <div class="search px-4">
          <button id="searchOpen" class="search-btn"><i class="ti-search"></i></button>
          <div class="search-wrapper">
            <form action="//search" class="h-100">
              <input class="search-box px-4" id="search-query" name="s" type="search" placeholder="Type & Hit Enter...">
            </form>
            <button id="searchClose" class="search-close"><i class="ti-close text-dark"></i></button>
          </div>
        </div>
        

        
      </div>
    </nav>
  </div>
</header>
<!-- /navigation -->

<section class="section-sm">
  <div class="container">
    <div class="row">
      <div class="col-lg-12 mx-auto">
        <h2 data-toc-skip>Graphing in Python - a walkthrough</h2>
        <div class="mb-3"> <span
            class="border-bottom border-primary px-2 mx-1"></span>
          <span>November 07 2019</span></div>
        <center><img src="../../images/post/python_graphing.png" class="img-fluid w-75 mb-4" alt="Graphing in Python - a walkthrough"></center>
        <div class="content mb-5">
          


<p><br></p>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<!--
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
-->
<link
  rel="stylesheet"
  href="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.css"
/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
<script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script>
</head>
<body>
<body data-spy="scroll" data-target="#toc">
<div class="container">
<div class="row">
<!-- sidebar, which will move to the top on a small screen -->
<div class="col-sm-3">
<p><nav id="toc" data-toggle="toc" class="sticky-top" style='padding-top:40px'></nav></p>
</div>
<!-- main content area -->
<div class="col-sm-9">
<h2 id="matplotlib">Matplotlib</h2>
<h3 id="create-single-plot">Create single plot</h3>
<p>The <code>figure</code> object holds all subplots and other plot elements inside it. A <code>figure</code> object can have one or more subplots inside it called <code>axes</code>, arranged in rows and columns. Every figure has at least one axes. The <code>axes</code> objects have no relation to the x- or y-axis.</p>
<p>Matplotlib (version &gt;= 1.4) has a range of styles available for the plots. Yan Holtz of the <a href="https://python-graph-gallery.com/199-matplotlib-style-sheets/">Python Graph Gallery</a> has made a nice panel view of all of them:</p>
<figure>
<center>
<img src="https://python-graph-gallery.com/wp-content/uploads/199_Matplotlib_style_sheet.png" alt="Matplotlib styles" />
</center>
</figure>
<pre class="python"><code>## Import libraries
import matplotlib.pyplot as plt

## Set style
plt.style.use(&#39;seaborn-ticks&#39;)   

## Initiate figure
fig, ax = plt.subplots(figsize=(8, 3))

## Create lot
plt.plot([1,2,3,4,5], [1,2,3,4,10], &#39;go&#39;, label=&#39;GreenDots&#39;)  # green dots
plt.plot([1,2,3,4,5], [2,3,4,5,11], &#39;b*&#39;, label=&#39;Bluestars&#39;)  # blue stars

## Label plot
plt.title(&#39;A Simple Scatterplot&#39;, fontsize=20) 

plt.xlabel(&#39;O&#39;, fontsize=18)
plt.ylabel(&#39;Y&#39;, fontsize=18)

plt.xlim([0, 6])</code></pre>
<pre><code>## (0, 6)</code></pre>
<pre class="python"><code>plt.ylim([0, 12])</code></pre>
<pre><code>## (0, 12)</code></pre>
<pre class="python"><code>plt.tick_params(axis=&#39;both&#39;, which=&#39;major&#39;, labelsize=14)

## Legend
## &#39;best&#39; prevents legend from overlapping with plot elements
#plt.legend(title=&#39;Group&#39;, loc=&#39;best&#39;, fontsize=12)
ax.legend(title=&quot;Legend Title&quot;, fontsize=6, title_fontsize=6)


## Show plot
plt.show()</code></pre>
<p><img src="../../post/2019-11-07-graphing-in-python-a-walkthrough_files/figure-html/unnamed-chunk-2-1.png" width="100%" /></p>
<h3 id="create-subplots">Create subplots</h3>
<p>Initiate grid</p>
<pre class="python"><code>## Set up subplot grid
fig, axes = plt.subplots(nrows = 9, ncols = 2,
                         sharex = False, sharey = False,
                         figsize=(8, 15))
                         </code></pre>
<h4 id="with-a-for-loop"><strong>With a for loop</strong></h4>
<p>To delete a blank subplot:</p>
<pre class="python"><code>fig.subplots_adjust(top=0.92, wspace=0.2, hspace=0.3)

plt.tight_layout()

fig.delaxes(axes[8][1])                         </code></pre>
<h2 id="seaborn">Seaborn</h2>
<h2 id="plotly">Plotly</h2>
<p><code>Plotly</code> does not need much introduction, as it is now very widely used to create interactive plots in both Python and R.</p>
<h3>
<font size="5">Plotting</font>
</h3>
<p>For a while, one major drawback of <code>Plotly</code> is its, in my opinion, rather inconvenient syntax, where the source data needs to be passed in as arrays even though most of us want to be able to plot data directly from dataframes. <code>cufflinks</code> package, which bridges <code>pandas</code> and <code>Plotly</code>, the release of <code>Plotly Express</code></p>
<h3>
<font size="5">Styling</font>
</h3>
<h2 id="plotnine">Plotnine</h2>
<p>One of the strengths of the R language is its very powerful graphing package <code>ggplot2</code>, with its distinctive implementation of Leland Wilkinsonâ€™s <em>Grammar of Graphics</em>. The <code>Plotnine</code> package brings this (at least part of it, it seems for now) capability to Python, with very little change to the R syntax. Here is a (ever growing) <a href="https://raindrop.io/collection/8766091">collection</a> of useful links curated by us to get your started with using <code>Plotnine</code>.</p>
<p>The brackets around the <code>ggplot()</code> function call looks strange at first, but it is needed for the signature multi-line <code>ggplot2</code> grammer to work:</p>
<pre class="python"><code>## Import libraries
import pandas as pd
from plotnine import *
from random import randint

# Generate dataset
random_numbers = [randint(1, 100) for p in range(0, 100)]

df = pd.DataFrame({&#39;number&#39;: random_numbers})

# Draw plot
p = (
      ggplot(df, aes(x=&#39;number&#39;)) + 
          geom_histogram(bins=20, na_rm=True) +
          ggtitle(&#39;Histogram of random numbers&#39;) +
          theme_light()
                        )

## Display plot
p.draw();</code></pre>
<p><img src="../../post/2019-11-07-graphing-in-python-a-walkthrough_files/figure-html/unnamed-chunk-5-1.png" width="100%" /></p>
<p>If you want to save the plot to file:</p>
<pre class="python"><code>p.save(&quot;output.png&quot;)</code></pre>
<p>And just because I can see myself wanting to use these plots in a Streamlit app, here is a working template:</p>
<pre class="python"><code>import pandas as pd
import numpy as np
from plotnine import *
import streamlit as st

n = 10

df = pd.DataFrame({&#39;x&#39;: np.arange(n),
                   &#39;y&#39;: np.arange(n),
                   &#39;yfit&#39;: np.arange(n) + np.tile([-.2, .2], n // 2),
                   &#39;cat&#39;: [&#39;a&#39;, &#39;b&#39;] * (n // 2)})

a = (
      ggplot(df) +
        geom_col(aes(&#39;x&#39;, &#39;y&#39;))
                               )

fig = a.draw();   ## Needed to remove the &quot;ggplot&lt;#&gt;&quot; message

st.pyplot()</code></pre>
<h2 id="yellowbrick">Yellowbrick</h2>
<pre class="r"><code>x &lt;- 7

y &lt;- 9

x + y</code></pre>
<pre><code>## [1] 16</code></pre>
<pre class="r"><code>o = c(&#39;hello&#39;, &#39;1&#39;, &#39;2&#39;)

print(o)</code></pre>
<pre><code>## [1] &quot;hello&quot; &quot;1&quot;     &quot;2&quot;</code></pre>
</div>
</div>
</div>
</body>

        </div>

        
        
      </div>
    </div>
  </div>
</section>

<script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.16.2/build/highlight.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/languages/r.min.js"></script>


<script>
hljs.configure({languages: []});
hljs.initHighlightingOnLoad();
</script>



<footer>
  <div class="container">
    <div class="row">
      <div class="col-12 text-center mb-5">
        <br><hr><br>
      </div>
      <div class="col-lg-4 col-sm-6 mb-5">
        <h6 data-toc-skip class="mb-4">Contact Us</h6>
        <ul class="list-unstyled">
          <li class="mb-3"><i class="ti-location-pin mr-3 text-primary"></i>Toronto, Canada</li>
          <li class="mb-3"><a class="text-dark" href="mailto:intelligence.refinery@gmail.com"><i
                class="ti-email mr-3 text-primary"></i>intelligence.refinery@gmail.com</a>
          </li>
        </ul>
      </div>

      
      <div class="col-lg-4 col-sm-6 mb-5">
        <center>
        <h6 data-toc-skip class="mb-4">Topics</h6>
        <ul class="list-unstyled">
          <li class="mb-3"><a class="text-dark"
              href="../../categories/careers">Careers</a>
          </li>
          <li class="mb-3"><a class="text-dark"
              href="../../categories/package-roundup">Package roundup</a>
          </li>
          <li class="mb-3"><a class="text-dark"
              href="../../categories/resources">Resources</a>
          </li>
          <li class="mb-3"><a class="text-dark"
              href="../../categories/visualizations">Visualizations</a>
          </li>
          <li class="mb-3"><a class="text-dark"
              href="../../categories/web-development">Web development</a>
          </li>
        </ul>
      </center>
      </div>
      
      
      <div class="col-lg-4 col-sm-6 mb-5">
        <center>
        <h6 data-toc-skip class="mb-4">Quick Links</h6>
        <ul class="list-unstyled">
          
          <li class="mb-3"><a class="text-dark" href="../../about/about">About Us</a></li>
          
          <li class="mb-3"><a class="text-dark" href="../../"></a></li>
          
          <li><a class="text-dark" href='https://nancychelaru.rbind.io'>Nancy's portfolio</a></li>
        </ul>
        </center>
      </div>
      <div class="col-12 border-top py-4 text-center">
        |  @2019 Intelligence Refinery  |  All Rights Reserved  |
      </div>
    </div>
  </div>
</footer>

<script>
  var indexURL = "/index.json"
</script>

<!-- Google Map API -->
<script src="../../"></script>
<!-- JS Plugins -->

<script src="../../plugins/jQuery/jquery.min.js"></script>

<script src="../../plugins/bootstrap/bootstrap.min.js"></script>

<script src="../../plugins/slick/slick.min.js"></script>

<script src="../../plugins/venobox/venobox.min.js"></script>

<script src="../../plugins/search/fuse.min.js"></script>

<script src="../../plugins/search/mark.js"></script>

<script src="../../plugins/search/search.js"></script>

<script src="../../plugins/google-map/gmap.js"></script>

<!-- Main Script -->

<script src="../../js/script.min.js"></script>
<!-- google analitycs -->
<script>
  (function (i, s, o, g, r, a, m) {
    i['GoogleAnalyticsObject'] = r;
    i[r] = i[r] || function () {
      (i[r].q = i[r].q || []).push(arguments)
    }, i[r].l = 1 * new Date();
    a = s.createElement(o),
      m = s.getElementsByTagName(o)[0];
    a.async = 1;
    a.src = g;
    m.parentNode.insertBefore(a, m)
  })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
  ga('create', 'Your ID', 'auto');
  ga('send', 'pageview');
</script></body>
</html>